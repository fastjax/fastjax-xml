# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: inelvmNxNtvmqintuOpnEOWuVl+qkiJTiW/CUHgVP0clCx6GnfKlykxYIuh1pMdfq2tQf+SWZnIHt2f69TM98Pj2xeyc9UnLpWO7LPcye/fZ1j9ZVNHZI7UnKG5PgqCQZaHJH+f7kvCL6iuzqLrTfnm2DPAF/d94Xrls2t1XnPqHOnk3BJ1dZh/byh/uViCXCspkRLvhwZfDIqXpUy1lR3sM75tRyh7XdaqgqI60h66dL0J7Dv2kLnZyXDMaA9l6h99ynnHumALZY+ISfO/MzM9DEZabf5/fMgGo9gGPtEOmoIjo1h+8OThJLP+lU7DPPxjY+nV5C9KpVVbarCYcLAE1z5owsVHnZ372Of2FS4+PEBrQk74tFNPEvno0J5UillaCWxHuA9+3XeyBzWw1rzDc99jzZDcUIyNj/Yoa8utFtf6ztQZ3TEUQWbzvmPdS5B0qieGS+fV8SOHv3tjbU35qs63yfUZdatptRSIFfZk7vBUdOi5b0ekeQ9vRqcogdA/e9cJTdWTbF/EzSTrMYqn1OAaxZkBfq3/jLyzQLbktDbzkxK18AMeO3gWBsS5TwbdHeztUdlS6LkLJlUrz2MYoLK9WYX3E7qAkUwToBqh+NVLOZYmz5wf6hIPUYOyMDvgafhgzjDeofoXAfCVpgH/RZHl+itghqGeVVJiuA6o=
  - secure: vet7z82ZPVPyoHmT1cqUC3APJQyDUFBkPCYBq3ywL1CVTrhWBw/pmcnY1vu5LgppLTHo2fcDaN/Pl+BndqrZ4qgPMCALRYYHayqZ7736Fdijlw+ieuIFVoaSQP1wt1LkorL7qpnRZm9nPUzeHCf7GJTqi9bl1Fq0E5sxAp5EG4cUNkQHOBKsRlMP9UqIhgPKTa93NrpM8YQnod3oXd97dXnKE3gnPnUi7D8SNAHEo/BCSmxARATZ8XBPOeyEn4b0YOdX/Ef8Fd3ySfN/ZsnKnoBlcs1i0Ko2BTCg/ZS+9FyYmnkgpLr6O+YiU64VJa5O4v4y1w7l+vgx14jBloVqqQoguufVFp4aQWlT/i0MaM6a52oUdQgntIaJlJnIrnvKty0LC1axjaYm0dPYguqD3UjyKUwTQxov/CkC1lNHOiET8U1xY2KIi8vd7H7DDHS0phnOUam740LM4lUwDj0fH3w4/mdud6FOYXSIY9tC6me/fG3/wX7BrtprqQ9iPLGeXo+rDvG9jCFuAXCcGXHq1OTu+RMQce/JVGj/5+XhMzUFLFyP2rtOTPYLgCWxOi9qKQqG5hVQDyQeFpGc2+HNy93mdL7gXsT8xePwcg1mFCjCjRaGFNX2UirjR6JRVAaqslPQXpeoZibw30THN7gBhKIUaHxsRKWJgbx2MB0ECeg=
  - secure: Ith04nqDQCB5IGu2GFksyw55tR+bt8u6XDhaX02uWruQIPWgqhnUghi/OZTESrGBEMm/lAP2/y4IEoQaH68blD24+8iKzSjtmpScPw0zF4GhvvyvL5OY7bNtskUvVlMVKvDm64r2dOMNeOfeJvgwxgrP6ZCkO1tFVHnr0r8qg65jFFguufB0T3s9COZ2jPI0Umcb5xBWWkuHh8xtzc1hKXdv3GvwXpsf38qXBi02kPujj18MT9tMEmB1rBA6htrn1Mz4QQrEQH69htD2x5ixVCI5hzFs+Kq40thUZ3UDcUK2gA9HPX6IvH3M0XUTAlwj13bYqsSTF++dHNBZ4QKNHyLB+KTU6rATuP/AW0j/kzyo44xf3qQI32+lhXuK8HG11aZ7e8m+5TjlsQU1jr4YhZu8zQpOnR8/E+yW0DzYW2QwQUZt2mk0lAgycbzFjuw6EPcoJXjAiJ2GK9GbO20/kGKpA/vf0nPOS+mDfq2IV2QZVxRZ+x6Rzp56gPx+qvb72kQ9mo53ub4jjrw2ilFELWKwFLZWR97k0oqPgikRYEEUooOImHgXHpj7F8CzbTTJYOTD+m4w46lM1gi4At6lT47O2W9GGeW1sbt7rkm23w4POb/Z6P+ixtGG2RaxaCh3UqCpkkVHe3/ymAzCwyFvtPfB8DxfNndOYPHLH34/vgM=
  - secure: X367sXHADv+9bitVz7qDo2bXb9Kr+U2aoQk8sL7eM0z7+mR5VhBLyJRyv7gReLVW3Df6cMGKjnvMvdC9n0+h9xKw3r5acq18YNcB5EIaiFvpc5PXKS6V+rM7usZKRSazst3k3i/lkJ8H5HAhGgYwIsZ8cf+x2U0u3eeBa96Uddz/r1wKsxcBHplbj2QJq8Fra/8/cKY1yPd7LECaP7inVnb1+BlD9hjaku1giaoYEh0PpJyyChj05MWDzRClZchT1Hi/MS6ux28v1OCq9jfhSzxxXc9z4ejuVgE+rPjI6nrmlJF/me6SZoJ4FOmhlwNOMPI7MoL1H13QFI3xPPXBeNDEQ31T36GuN0J8/S4ep8J1QBvxGmNJmjk2qB8H74eKq566j4RGhnM77/9sIk3aeLWKyGjIG3bpGjXbB4tsBKy4ZTYVH/QxKT5A0yMYULYCrkMLRQbLvdtu8OkLhPk994EU7xgpiF9hGIdBqWZUioAWOimE1yqHN6BBoJw1Flq8WnTYwEuAFMm+m9Q85CTcGXfE9osL42bNGUbmjkEbxCOwFSKW5qvHtWuyNCxNl6hmysTMzUkDjypMUxElN5n7WOmcActKOq7oHVlchZpawfl0ypdJdc7ewT6lRr+u3qjU750EZ1dLl2tI9qlV6lLfi81uIM6kQQRnpEN6/JmsE9Y=
  - secure: ggmqNGqANY5QKtBlJXlUW+/gi3ABE+l3zaj4n4eUeEUnJLSoWTiWwKcwcj/EIiDok0UQgtL9/MpzUJjinMbq5Lnr7+s5SO8cvP/ZfkSrUxb7ML8lIS/9j4qNCdLrtOC59QAkWs0cWtaV27aARVbY+mhAt2bGieT0/aPAp3SiRjavWJzlEKRs5KkleywQOIczWZRLKbs8EFLQl05bORPQjK6cMfvBoBOXGPxM6wE6TJw7wLIIPKkrvEQ2IXeDbh+1VV4D7gYW9yjckqJvkXWKl900HrLqtKoMjXloMDT5Cp1Xj4nqFlthUTLXXaXQ1n6n7RwWyosURcp3PG4NNSkiIgk+tNu5E/xHUvhgptrXAkiUNZ/JPtsLFR4CcgbfiypPc18hnobMZ9gR+C24LV/gU+/are3kWJZ1QgBsIr2NuVkb8eht0eR4v2ZhKmGidOEdZryLIZeY2TBBtTBrwqXsaIN/Vg1Fqfc0LM13z42NSmscQgCrSb8EqJN/Ct2Z/En4Dt55R8k/I9esVn6n5e2uf89Ycii1RSrWJSzdkkNfmxiATAEj+IzBQ16qjSXO1Iuxo8QCG+YdcaLYm0/+wULNTxK2KBTTMUBD84TU39b+aTgqFYXJtUYXN1uYaO2/IY11Yk2PXo9svHgxj7WzMCTT6MLmhCfPuFjVqSuvUdVhBQo=
  - secure: l9PBzK+ZHThGHvRUDMs9k0Ovdkne1HtvP0GQEKHSWGDgbslRYqT/iSihg36xgItvfhgPVpvorfwqC6W2eaOp8AI/UWe6FRZkLr6Yb1ui05GtVxfrAezr19pDQd1UpjrvNPBPOOioawLjK8ue8+UUI6U7+l9+id/cFv2SUQPEuP7GSs/yjxYL8ElWYsxvOFgudE7TP82uvG3dUV2wHREJfBRP2YUvVpT6ryAqtaVgUWTqjRHZkg6a0K7oDv7T61p8Gx2jRaQrFraObHGSAe5Wfwt93IldO8dhYCHkGPPDIwZ/B5dVPgyxjLB65+ncnfmNROZX2KAys/hMvoHS6zg5FTQHNgGO6fdsTLETRmfactfa1MJ0lDal0nvmbQ9+GkXUViDyrrSXrEvmYDdbv0Y7ju3CU8iFZHaGY0Fso+/7nrGrxcXhR3dHxB8WEJvH573olKKSCA7qzgjLuk9fkLWas4oDFm59OzcALeUZAGGptEuay5a+kQT6d2W+AZTo1Y0TMoBgiBs/GJg0zDqTnkjsUWISJbXXnZFdQtSlsEYkLP4t2cmgeQtwNICnniGRvrYIM6Y5jgveMpLD96YEPVP9fWe2rUWTPBbkVN4yi4B1pyhMPeHyWd36PeTiI+QfMYYsSrqsaICbfQBof77b7TqX7ee83DqRSpcAWQXmo03NG9U=
  - secure: 
  - secure: LtdZ/ypoLAQzT5xdWKkQDWXe4q+8bK24wGcy12Hz6xUt7q95WekRzRb6vbPztMKwf0xBL4lV21sG6tnHwHzwFS5TkMW3+6ht/rwjr1/3HA2hk1+HSa9q3rJrcBu0hGFuyC4gPx0Fys6nbYSflEADlYVvd38a3MJSRGRMPFcA3FFpIvsBkExNsTfX0QzIhZ/hMqxG3aat8/h4XwUfgDSPcE8lpeT5ByuGJMWMXJHxBxL3jWG0KXM+ftt4CbX8Iq93HjQDrMIdWpwPcphr5SQAE+1Ee776m0B4W/YfgGBaCYbnyDMpXtVHXKlAIut3HgC1WqaupZ2ReP7d6SRX64b0/Qk6ws4BSKmVIRtTVpqDE1xKxluYQINjczuSBx6/wv4rMOocTvoEP6pFRaVj5jmhfOPU1X0QdNLVbBgNAGpZ4foJYK7JZ4Urvdi+XGiGZ0dAwGemUYMgdfgCQVblYDPhxTsjQqS5zj0f+Yu+1SIXa5Vd0MwMLzWuwT6miN6b5TNAMZ0I1rx2hzi8k9TgNpFPBU1gKXXoE1ZxN7tlQPPNgi6scv4nbsL+bzczBL17MaFDBXLZ/qRCwepGE+E0oqlPTfbnPmJvh3jst/gxdhdTqW8u4ymV8wYBKlvWUni2R/lU7FdCxUBC729FonTdRrTzCgUGazb+ulklTfrBCuTCvts=
  - secure: bA7WgPdX77AZKH0Hu5xJsdCiP/e+xB2xDRl05gRg16Gnfx7Su0++qdCIptVi3of0Je758aq4KD1dneeSCAp57OehozO79lPnDzNdrRYLA1I8P0nMGoQn1J9scCmsnpn0+8SBAz0zQnm7BzYAZnjs0dBkkBBvSHzugMj1YM5wr6zu8JUreuJi7c4b7luD0dn55lXpVGwttu8HcpJ0M0EgFhKSn+uI9doaU1eUAL0+kSEx04N2JXXQkTxrJs5Zv3eJ3NJrHKFeywfTxNU7v4iGb83pZbnw6rvaFaxV+7+3FP5Xw1uNEuEzNUbWLmlEZG4mkh7K8ZBcsxN+I5RQrL4Tyd9Pm/5nA+HdyAxhICxCpPNDfP7ItNzaWs8KsebHqJ8DXDHIIon8iTQFhxKK9mz4GSXFZyE2BuUCKLlPK2nR/3TWLqyYsY6QQbS+7/NKOdxUyWlC2Mu99w821V91g4KFb0KAixyAsmxGf5aqo5FdI3jxfeXayw6L0WxMCJmrILjcxYpd7Hg1hAqRvTh95WOLsZFb/7Iu0vNCOySBOUyp+HTERgPMgLpyfYQkKKUp/apIXqKFUlqcEv0gIguShRj1jmkCi1c0hB+RM3CM1kMCVwHh/M0+WFOpHdMepFsuTdpIZ+q0+HOwub2DDcxdD5PMAL+EikdJZkO/5CIlIfgnE64=
  - secure: pe6QlhcHHmpKgnClRa7GKYmYM3KxzxxowP2MqJ1hWdnDVj8Zw2UsNaATE6oyYCv4Li8SCr+iWZ/hcemakE+2k2z28XPr9ub74hFKHb8rBNfOlWI0LGHIYFAdJG0EH3hCzbXXZE/eEU/UXMWJfZcmTsHQmK0ewGhZtrvNhaWUZDfVjrc86fqcDUBQfiDeG47lO5qDYokpQIfP1+0BiXBwRJF3jM6n5VxwR9gJhW4NlzvMBj5xuFLdZHJB5EMV0jrzZJNLOilrXlln7wFgolVOzGkqTFzU1CotRYdzJpy6cGdTPBkTd68V86M55XBTKnmXy85NE7Aca/GWk3lNHpN8Qa3dUEDW9gbld6saLmG5PF+Q5NpKZRjEA8ATBIgVDePh6/PvpxJirEh0Kgxtg2eqh74EjekNcyXMnW1jns3vFrcT680tLzy7rWFTtbsIbyviGg7l3UWvNUESchsK2tGsSid8l7+i2w9tl14wS7f/LDUaGcNOZ8up+w87OGBIJ/l3hStrz1rcCVah0j7W4JyKsRtf6Ttbz3r5x+7qvqvXpbq8y7kR82Hk4q6KT7OWhbLwQ+DVDQjNxzJCCMGKL3hALOtQVpyP5FQcg/ErLO0wJd3vxKPxnTzcRwXwg/VFP67QrycbStq36Q14n2Bm6bdHgG/odZgEj2lMNx8xnpKCXKc=
  - secure: veOxSYGR0Kmoc8PbwHK/jtWtWkWAGnqMUl5fT1QDFVRm0zF6kAL/742Ix2k14rCrq/F/lFdlh6lGPV5cAiOzL3aV1n9G62pZese4OZDHiNg6/1Zo6WwZyRAD0S0BIS7QJTSDKOdtcQKdbUgECZA4uJuFAD/EL0DRxl69I41UIYNobrWYdL9R4SesOl+WxEKi7qBL43+Q9Cm7C6o1GUXy8M0IaC5Qn8VaSGGNeoN37vK3b3zv83R8w+5GIHXxGsPOzFW34sqKuNKjwR4z27Qxfv/2P1zcqUp5MH5V2RW9Fnt/nkFmzoKXeZVfHaiyVBjobEocGvRvMMZkOQPsj+c9SAH4BMFAqdZaW/udQ97JQn5w/YrbA9amOKDHCzYzBSNSocEm0B9IBbpXVwECc93NxOd5HoKzSeV6o/SmhHDA8UTBW0CRji9TVJNHjmJByi6k679elMdaKqgOngl91hf5AsA/KZaLx8hEhTzPFhsnOINUp0WnhSASq43d0G2vgnvf/GKDQM1e1xUqcyDMfZ66ZXPihC8i7U6Xm07LwUjnj6bWZSoCaNGYLt7Nq7nwJ7vxI6EfBkH823qALfQzJvSxD8ygoGKUuhg+v7lIa+e14jUkaAFObN3s6H5ExGZoxzH8EMR2H0oFiteaEgIcjJTvabYRysYYvlM5Th7+SIL1Lsc=
  - secure: R1XfI0g+zzn7Et05zwptcPKwXMXeQn7V1ZkGtjMcu3Nfpn2da0mQ3lGgxdPE+KQZ9TupxbO3/VbMs4GdieR8lHPhiEXnwXxxFpK/Tmvqa/QSMeddP1wf59zicyeDIBAZZBnh9CNMRfyRnndbpPXOLnN58kxL/dbsUgLKggLepx6VMnao8ww6VYdeZUb/0MMNR+GhIpF1PogbFIex2xw4KiGF+yp0oH3nXLM76nqd0m7PvNp27Y4uf1cqgNNuP2YGYCrqqdv/TJPe7VcaWy8rYauTewxBD2j+xQolkYjrJNEVoYaiw4ZB5cQ4IWfP248ZmxFuHxcJ2XZO5nGlTa4jm77tE4v0oL7k0z5q2KJfdg+UJOWpQJqBG75aU15oT/mt8u+yGbR1TqsY0D/i0R9FrBcURoL0lGTD0ZXPQtaAdQhBgL0yeVUg/Jv0tPysqKIy1tOO0+sL0fJNvweGTA3etO0Rhjm7qnxvbhl8nPNgucGruW3uCHji+Bz4UnoopHpo/0jgYgamsnTHvRvtOnPsBUzIeSEfYvjcT97xHIcsE8i5PoBceOxX8Mb4cYJgwRMBOC3Q6dXFUTUhev9VDgGHg1Xv0H1rDVvfFyM/Fey/8cP/8FBJLeau8uHGApDBIAmQKQeHmi5VcgW9ugbZxfdlMf1juMZCa3Je39Wp5yd0tDI=
  - secure: O4HJkvnx5O9AtJSRLF36rq0gF9w2waaoOVYRQ2waluNKCFoiWivo7OztqGGVuqKpcgRvfeZlcN5541RuUkaRBFkUvu2gy9q0w6tYPbJ/aR/vGjtRiDVWaAe4bVPT999sehGk1HAOzPYzsL4ry4kXz9BZeep+aFEtQzlYNbLn2VQOAZ326ku8gi8PWdbfTq/I+HBxNyhQkchvQwfFIOdSyfZCyMkzhZPG070PJ9nBq3eMJ1zJbbX/cgCPv1wg2pPd15dzYg3Ki9q4GoYnDoE4dRNkpnHmlY7Dlx3onA+n3IfIYtj0TEWcMAoCDsXmf2WoLgJSwvE6qOUVteuz7DStF953/3yglRonOr4cfslgYkTu2nyF6U8S705uMDI/cUR4IIOG9Dzp/CzAz/WR5gVfQJcXovR0x6bryamslOO7zSAaHocc78Tzy4PtsfAbpy0xAyM9Dsmu7K6EMNTQk2q0RVnSMOtTDap6W3W9aCt+d3gTebEVVapJY6UO3wA05sUd774lutb+dYQFjMuzJwpgGS3+JLSoXsj6Xkg+6zRQ4QsSsHAjWHdzjbtmTXT+zMn6sZNmDvWxpRchPDlA60G31lFVs1z8leV991UMmZv3KuZQxldVf6x+noTuJIlrhBRcpEKCh461N5cufW9nrvT6w6kIi7cqaDB6LD4XSr4sdvY=
